Here is the first attempt at writing software for the first prototype.
Go to ../software/ for the new version.
The code is kept here until working parts are moved to the new version.


-------------------------------------------------

This directory contains software running on the STM32F401RE microcontroller
in the transceiver.

NUCLEO-F401RE development board has been used to develop parts of the
transceiver before PCBs are ready.

How to compile and program the microcontroller on Nucleo board using GNU/Linux:

Install arm-none-eabi-gcc, arm-none-eabi-binutils and arm-none-eabi-gdb.

Build stlink: https://github.com/texane/stlink
Also remember to install udev rules for stlink if necessary.

Download STM32F4 standard peripherals library: http://www.st.com/content/st_com/en/products/embedded-software/mcus-embedded-software/stm32-embedded-software/stm32-standard-peripheral-libraries/stsw-stm32065.html
(Downloading it needs registration on ST website.)
Unzip the library and modify Makefile for the path to the library.

Run make

Start st-util: /path/to/stlink/build/st-util
Run gdb: arm-none-eabi-gdb dodekaedri.elf
Write these commands in gdb:
tar rem :4242
load
mon reset
c




STM32CubeMX is used to help design pinout of the microcontroller.
Initialization code generated by STM32CubeMX is not used.
STM32CubeMX can also be installed in Linux by running the command:
java -jar SetupSTM32CubeMX-4.16.1.exe
( http://www.st.com/content/st_com/en/products/development-tools/software-development-tools/stm32-software-development-tools/stm32-configurators-and-code-generators/stm32cubemx.html )

